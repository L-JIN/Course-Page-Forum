# 2020-04-07 项目总体规划

记录者：宁雨亭

参与者：李缙、金哲欣、林焕承、宁雨亭、王顺洪、许世晨、张俸铭、左顺

## 0. 项目划分

四种身份（权限）：教务管理人员、教师、助教、学生

两个界面：后台管理系统、课程主页（课程信息 + 答疑平台）

## 1. 前端任务

### 后台管理系统

登录界面：

* 教务管理人员和教师可登录后台管理系统，但是权限不同

课程列表：

* 教务管理人员：可见所有课程，提供`增加`、`删除`、`修改`按钮；可以将教师和其执教课程进行关联，表示该教师执教某个课程
* 教师：仅可见自己执教的课程，提供`修改`按钮
* CSV 导入

学生列表：

* 教务管理人员：可见所有学生信息，提供`增加`、`删除`、`修改`按钮；可以将学生和（老师，课程）关联起来，表示该学生被划分到由该老师所教课程中
* 教师：仅可见自己课程中的学生信息，提供`修改`按钮
* CSV 导入

教师列表：

* 教务管理人员：可见所有教师信息，提供`增加`、`删除`、`修改`按钮
* 教师：仅可见自己的信息，提供`修改`按钮
* CSV 导入

### 课程主页（课程信息 + 答疑平台）

课程信息界面：

* 课程公告：编辑发布/查看
* 课程资源：文件上传、文件下载
* 课程日历：定时发布
* 课程作业：定时发布、上传截止时间限制
* 其他模块：根据后续需求引入

内联登录界面：

* 教师、助教、学生均可登录答疑平台

答疑平台：

* 侧边栏
* 问题描述 + 答案 + 评论
* 时间轴
* Markdown + Katex 编辑器
* 文件夹，每个作业或者实验都有一个独立的答疑区
* Tag 标签
* 匿名功能

### 测试

前期前端测试主要利用 Mock 数据对相关的函数（视图）进行测试。

## 2. 后端任务

### 数据库设计

根据需求合理设计数据表和关系，暂定的数据表：教务管理人员列表、教师列表、助教列表、学生列表、课程列表、答疑列表、资源列表等。

### 安全性保障

保障数据库的安全，保障用户账号密码安全，抵御网络攻击，做好备份。主要防范 XSS，CSRF，SQL注入等攻击。

### 动静分离

使用 Nginx 实现服务器资源的动静分离，加快页面的响应速度。

### 负载均衡

使用 Nginx 实现服务器端的负载均衡，充分利用服务器的 CPU 等资源，加快用户响应速度。

### 高可用性*

使用 keepalived 进行集群管理，保证服务器的高可用性。

### 测试

后端主要测试 API 的数据格式和数据库模式设计的正确性。

前后端开发都完成后，可以对各个模块的功能和输出格式进行整体的测试。

## 3. 组员分工

**产品经理**：李缙

**设计师**：宁雨亭

**前端工程师**：左顺、宁雨亭、张俸铭、王顺洪、金哲欣

**后端工程师**：林焕承、李缙、许世晨

**测试 + 运维工程师**：林焕承、李缙、许世晨

## 4. 计划安排

### 第一周 2020-04-05 ～ 2020-04-11

美工设计出每个界面的草图（整体框架图），必须包含**全部**的功能。设计完成后小组进行讨论，探讨设计合理性和易用性，整合小组意见后再次修改或更新设计图。

前后端设计开发规范文档，不同开发者在之后的开发中需要遵守该文档。同时前后端工程环境可以先配置好。

后端根据需求设计数据库模式，可以是每一个前端页面对应一个或多个数据表。

### 第二周 2020-04-12 ～ 2020-04-18

设计前端框架，把不同的功能模块划分成组件，根据不同组件合理分配工作量。

前端与后端商定 API，并且撰写简单的 API 文档，统一数据格式。

前后端分离开发，前端完成部分组件的功能（无需特别在意布局和样式，优先实现功能），后端完成部分 API。

### 第三周 2020-04-19 ～ 2020-04-25

前端完成所有组件的功能（无需特别在意布局和样式，优先实现功能）。

后端完成所有 API，并简单测试 API，保障查询结果和数据格式的准确性。

### 第四周 2020-04-26 ～ 2020-05-02

后端项目部署到服务器上。期间如果有新的需求，后端需要相应修改已经完成的 API。

前端将前期的 Mock 数据转换为正式的数据库中的数据。

### 第五周 2020-05-03 ～ 2020-05-09

前端美化界面设计，调整组件布局和样式，统一 UI 风格，保证 Web 应用的易用性和整体风格统一性，同时如果有需要，前端可以优化 Web 应用加载速度。

后端完善网站和数据库的安全性。

### 第六周 2020-05-10 ～ 2020-05-16

对我们的项目进行全面整体的测试，发现 Bug 后及时修复，并且编写软件开发文档。

### 剩余周 2020-05-17 ～ 结课

预留弹性时间，如果由于种种原因导致进度落后于预期，可以适当顺延每周的安排，但是**每周任务的延后日期不超过一周**。
